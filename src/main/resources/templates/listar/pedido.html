<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<title>Pedidos</title>
<div th:replace="includes/css"></div>
<body class="hold-transition sidebar-mini layout-fixed">
    <div class="wrapper">
        <div th:replace="includes/navbar"></div>
        <div th:replace="includes/sidebar"></div>
        <div class="content-wrapper">
          <div class="card card-rotating bg-gradient-light">
            <div class="card-body">
              <div class="card card-primary card-outline">
                  <div class="card-header">
                    <h3 class="card-title">PEDIDOS</h3>
                  </div>
                  <div class="card-body">
                    <table id="tabla1" class="table table-bordered table-striped">
                      <thead>
                      <tr>
                        <th>fecha</th>
                        <th>hora de pedido</th>
                        <th>hora de recoleeccion</th>
                        <th>hora de entrega</th>
                        <th>total</th>
                        <th></th>
                      </tr>
                      </thead>
                      <tbody>
                          <tr th:if="${pedidos.empty}">
                              <td colspan="5"> No hay ordenes registrados </td>
                          </tr>
                          <tr th:each="pedido :${pedidos}" th:class="${pedido.horaentrega}?table-primary:table-warning">
                              <td><span th:text="${pedido.fecha}"> Authority </span></td>
                              <td><span th:text="${pedido.horapedido}"> Authority </span></td>
                              <td><span th:text="${pedido.horarecoleccion}"> Authority </span></td>
                              <td><span th:text="${pedido.horaentrega}"> Authority </span></td>
                              <td><span th:text="${pedido.total}"> Authority </span></td>
                              <td class="text-center py-0 align-middle">
                                <div class="btn-group btn-group-sm">
                                  <a href="#" class="btn btn-info"><i class="fas fa-eye"></i></a>
                                  <a sec:authorize="hasAnyAuthority('ROL_ADMIN','ROL_CALLCENTER')" href="#" class="btn btn-warning"><i class="fas fa-edit"></i></a>
                                  <a sec:authorize="hasAnyAuthority('ROL_ADMIN','ROL_CALLCENTER')" th:onclick="eliminarOrden([[${pedido.id}]])" class="btn btn-danger"><i class="fas fa-trash"></i></a>
                                </div>
                              </td>
                          </tr>
                      </tbody>
                      <tfoot>
                      <tr>
                        <th>fecha</th>
                        <th>hora de pedido</th>
                        <th>hora de recoleeccion</th>
                        <th>hora de entrega</th>
                        <th>total</th>
                        <th></th>
                      </tr>
                      </tfoot>
                    </table>
                  </div>
              </div>
            </div>
          </div>
        </div>
        <div th:replace="includes/scripts"></div>
    </div>
</body>
</html>